/*!
 * jQuery Form Plugin
 * version: 3.51.0-2014.06.20
 * Requires jQuery v1.5 or later
 * Copyright (c) 2014 M. Alsup
 * Examples and documentation at: http://malsup.com/jquery/form/
 * Project repository: https://github.com/malsup/form
 * Dual licensed under the MIT and GPL licenses.
 * https://github.com/malsup/form#copyright-and-license
 */
function getParameterByName(t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var e=new RegExp("[\\?&]"+t+"=([^&#]*)"),i=e.exec(location.search);return null===i?"":decodeURIComponent(i[1].replace(/\+/g," "))}function overlay(){el=document.getElementById("overlay"),el.style.visibility="visible"==el.style.visibility?"hidden":"visible"}!function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):t("undefined"!=typeof jQuery?jQuery:window.Zepto)}(function(t){"use strict";function e(e){var i=e.data;e.isDefaultPrevented()||(e.preventDefault(),t(e.target).ajaxSubmit(i))}function i(e){var i=e.target,n=t(i);if(!n.is("[type=submit],[type=image]")){var s=n.closest("[type=submit]");if(0===s.length)return;i=s[0]}var a=this;if(a.clk=i,"image"==i.type)if(void 0!==e.offsetX)a.clk_x=e.offsetX,a.clk_y=e.offsetY;else if("function"==typeof t.fn.offset){var o=n.offset();a.clk_x=e.pageX-o.left,a.clk_y=e.pageY-o.top}else a.clk_x=e.pageX-i.offsetLeft,a.clk_y=e.pageY-i.offsetTop;setTimeout(function(){a.clk=a.clk_x=a.clk_y=null},100)}function n(){if(t.fn.ajaxSubmit.debug){var e="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(e):window.opera&&window.opera.postError&&window.opera.postError(e)}}var s={};s.fileapi=void 0!==t("<input type='file'/>").get(0).files,s.formdata=void 0!==window.FormData;var a=!!t.fn.prop;t.fn.attr2=function(){if(!a)return this.attr.apply(this,arguments);var t=this.prop.apply(this,arguments);return t&&t.jquery||"string"==typeof t?t:this.attr.apply(this,arguments)},t.fn.ajaxSubmit=function(e){function i(i){var n,s,a=t.param(i,e.traditional).split("&"),o=a.length,r=[];for(n=0;o>n;n++)a[n]=a[n].replace(/\+/g," "),s=a[n].split("="),r.push([decodeURIComponent(s[0]),decodeURIComponent(s[1])]);return r}function o(n){for(var s=new FormData,a=0;a<n.length;a++)s.append(n[a].name,n[a].value);if(e.extraData){var o=i(e.extraData);for(a=0;a<o.length;a++)o[a]&&s.append(o[a][0],o[a][1])}e.data=null;var r=t.extend(!0,{},t.ajaxSettings,e,{contentType:!1,processData:!1,cache:!1,type:l||"POST"});e.uploadProgress&&(r.xhr=function(){var i=t.ajaxSettings.xhr();return i.upload&&i.upload.addEventListener("progress",function(t){var i=0,n=t.loaded||t.position,s=t.total;t.lengthComputable&&(i=Math.ceil(n/s*100)),e.uploadProgress(t,n,s,i)},!1),i}),r.data=null;var c=r.beforeSend;return r.beforeSend=function(t,i){i.data=e.formData?e.formData:s,c&&c.call(this,t,i)},t.ajax(r)}function r(i){function s(t){var e=null;try{t.contentWindow&&(e=t.contentWindow.document)}catch(i){n("cannot get iframe.contentWindow document: "+i)}if(e)return e;try{e=t.contentDocument?t.contentDocument:t.document}catch(i){n("cannot get iframe.contentDocument: "+i),e=t.document}return e}function o(){function e(){try{var t=s(v).readyState;n("state = "+t),t&&"uninitialized"==t.toLowerCase()&&setTimeout(e,50)}catch(i){n("Server abort: ",i," (",i.name,")"),r(T),x&&clearTimeout(x),x=void 0}}var i=h.attr2("target"),a=h.attr2("action"),o="multipart/form-data",c=h.attr("enctype")||h.attr("encoding")||o;k.setAttribute("target",p),(!l||/post/i.test(l))&&k.setAttribute("method","POST"),a!=d.url&&k.setAttribute("action",d.url),d.skipEncodingOverride||l&&!/post/i.test(l)||h.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),d.timeout&&(x=setTimeout(function(){w=!0,r(S)},d.timeout));var u=[];try{if(d.extraData)for(var f in d.extraData)d.extraData.hasOwnProperty(f)&&u.push(t.isPlainObject(d.extraData[f])&&d.extraData[f].hasOwnProperty("name")&&d.extraData[f].hasOwnProperty("value")?t('<input type="hidden" name="'+d.extraData[f].name+'">').val(d.extraData[f].value).appendTo(k)[0]:t('<input type="hidden" name="'+f+'">').val(d.extraData[f]).appendTo(k)[0]);d.iframeTarget||g.appendTo("body"),v.attachEvent?v.attachEvent("onload",r):v.addEventListener("load",r,!1),setTimeout(e,15);try{k.submit()}catch(m){var b=document.createElement("form").submit;b.apply(k)}}finally{k.setAttribute("action",a),k.setAttribute("enctype",c),i?k.setAttribute("target",i):h.removeAttr("target"),t(u).remove()}}function r(e){if(!b.aborted&&!F){if(I=s(v),I||(n("cannot access response document"),e=T),e===S&&b)return b.abort("timeout"),void C.reject(b,"timeout");if(e==T&&b)return b.abort("server abort"),void C.reject(b,"error","server abort");if(I&&I.location.href!=d.iframeSrc||w){v.detachEvent?v.detachEvent("onload",r):v.removeEventListener("load",r,!1);var i,a="success";try{if(w)throw"timeout";var o="xml"==d.dataType||I.XMLDocument||t.isXMLDoc(I);if(n("isXml="+o),!o&&window.opera&&(null===I.body||!I.body.innerHTML)&&--A)return n("requeing onLoad callback, DOM not available"),void setTimeout(r,250);var l=I.body?I.body:I.documentElement;b.responseText=l?l.innerHTML:null,b.responseXML=I.XMLDocument?I.XMLDocument:I,o&&(d.dataType="xml"),b.getResponseHeader=function(t){var e={"content-type":d.dataType};return e[t.toLowerCase()]},l&&(b.status=Number(l.getAttribute("status"))||b.status,b.statusText=l.getAttribute("statusText")||b.statusText);var c=(d.dataType||"").toLowerCase(),u=/(json|script|text)/.test(c);if(u||d.textarea){var h=I.getElementsByTagName("textarea")[0];if(h)b.responseText=h.value,b.status=Number(h.getAttribute("status"))||b.status,b.statusText=h.getAttribute("statusText")||b.statusText;else if(u){var p=I.getElementsByTagName("pre")[0],m=I.getElementsByTagName("body")[0];p?b.responseText=p.textContent?p.textContent:p.innerText:m&&(b.responseText=m.textContent?m.textContent:m.innerText)}}else"xml"==c&&!b.responseXML&&b.responseText&&(b.responseXML=P(b.responseText));try{$=M(b,c,d)}catch(y){a="parsererror",b.error=i=y||a}}catch(y){n("error caught: ",y),a="error",b.error=i=y||a}b.aborted&&(n("upload aborted"),a=null),b.status&&(a=b.status>=200&&b.status<300||304===b.status?"success":"error"),"success"===a?(d.success&&d.success.call(d.context,$,"success",b),C.resolve(b.responseText,"success",b),f&&t.event.trigger("ajaxSuccess",[b,d])):a&&(void 0===i&&(i=b.statusText),d.error&&d.error.call(d.context,b,a,i),C.reject(b,"error",i),f&&t.event.trigger("ajaxError",[b,d,i])),f&&t.event.trigger("ajaxComplete",[b,d]),f&&!--t.active&&t.event.trigger("ajaxStop"),d.complete&&d.complete.call(d.context,b,a),F=!0,d.timeout&&clearTimeout(x),setTimeout(function(){d.iframeTarget?g.attr("src",d.iframeSrc):g.remove(),b.responseXML=null},100)}}}var c,u,d,f,p,g,v,b,y,_,w,x,k=h[0],C=t.Deferred();if(C.abort=function(t){b.abort(t)},i)for(u=0;u<m.length;u++)c=t(m[u]),a?c.prop("disabled",!1):c.removeAttr("disabled");if(d=t.extend(!0,{},t.ajaxSettings,e),d.context=d.context||d,p="jqFormIO"+(new Date).getTime(),d.iframeTarget?(g=t(d.iframeTarget),_=g.attr2("name"),_?p=_:g.attr2("name",p)):(g=t('<iframe name="'+p+'" src="'+d.iframeSrc+'" />'),g.css({position:"absolute",top:"-1000px",left:"-1000px"})),v=g[0],b={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(e){var i="timeout"===e?"timeout":"aborted";n("aborting upload... "+i),this.aborted=1;try{v.contentWindow.document.execCommand&&v.contentWindow.document.execCommand("Stop")}catch(s){}g.attr("src",d.iframeSrc),b.error=i,d.error&&d.error.call(d.context,b,i,e),f&&t.event.trigger("ajaxError",[b,d,i]),d.complete&&d.complete.call(d.context,b,i)}},f=d.global,f&&0===t.active++&&t.event.trigger("ajaxStart"),f&&t.event.trigger("ajaxSend",[b,d]),d.beforeSend&&d.beforeSend.call(d.context,b,d)===!1)return d.global&&t.active--,C.reject(),C;if(b.aborted)return C.reject(),C;y=k.clk,y&&(_=y.name,_&&!y.disabled&&(d.extraData=d.extraData||{},d.extraData[_]=y.value,"image"==y.type&&(d.extraData[_+".x"]=k.clk_x,d.extraData[_+".y"]=k.clk_y)));var S=1,T=2,D=t("meta[name=csrf-token]").attr("content"),E=t("meta[name=csrf-param]").attr("content");E&&D&&(d.extraData=d.extraData||{},d.extraData[E]=D),d.forceSync?o():setTimeout(o,10);var $,I,F,A=50,P=t.parseXML||function(t,e){return window.ActiveXObject?(e=new ActiveXObject("Microsoft.XMLDOM"),e.async="false",e.loadXML(t)):e=(new DOMParser).parseFromString(t,"text/xml"),e&&e.documentElement&&"parsererror"!=e.documentElement.nodeName?e:null},N=t.parseJSON||function(t){return window.eval("("+t+")")},M=function(e,i,n){var s=e.getResponseHeader("content-type")||"",a="xml"===i||!i&&s.indexOf("xml")>=0,o=a?e.responseXML:e.responseText;return a&&"parsererror"===o.documentElement.nodeName&&t.error&&t.error("parsererror"),n&&n.dataFilter&&(o=n.dataFilter(o,i)),"string"==typeof o&&("json"===i||!i&&s.indexOf("json")>=0?o=N(o):("script"===i||!i&&s.indexOf("javascript")>=0)&&t.globalEval(o)),o};return C}if(!this.length)return n("ajaxSubmit: skipping submit process - no element selected"),this;var l,c,u,h=this;"function"==typeof e?e={success:e}:void 0===e&&(e={}),l=e.type||this.attr2("method"),c=e.url||this.attr2("action"),u="string"==typeof c?t.trim(c):"",u=u||window.location.href||"",u&&(u=(u.match(/^([^#]+)/)||[])[1]),e=t.extend(!0,{url:u,success:t.ajaxSettings.success,type:l||t.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},e);var d={};if(this.trigger("form-pre-serialize",[this,e,d]),d.veto)return n("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(e.beforeSerialize&&e.beforeSerialize(this,e)===!1)return n("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var f=e.traditional;void 0===f&&(f=t.ajaxSettings.traditional);var p,m=[],g=this.formToArray(e.semantic,m);if(e.data&&(e.extraData=e.data,p=t.param(e.data,f)),e.beforeSubmit&&e.beforeSubmit(g,this,e)===!1)return n("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[g,this,e,d]),d.veto)return n("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var v=t.param(g,f);p&&(v=v?v+"&"+p:p),"GET"==e.type.toUpperCase()?(e.url+=(e.url.indexOf("?")>=0?"&":"?")+v,e.data=null):e.data=v;var b=[];if(e.resetForm&&b.push(function(){h.resetForm()}),e.clearForm&&b.push(function(){h.clearForm(e.includeHidden)}),!e.dataType&&e.target){var y=e.success||function(){};b.push(function(i){var n=e.replaceTarget?"replaceWith":"html";t(e.target)[n](i).each(y,arguments)})}else e.success&&b.push(e.success);if(e.success=function(t,i,n){for(var s=e.context||this,a=0,o=b.length;o>a;a++)b[a].apply(s,[t,i,n||h,h])},e.error){var _=e.error;e.error=function(t,i,n){var s=e.context||this;_.apply(s,[t,i,n,h])}}if(e.complete){var w=e.complete;e.complete=function(t,i){var n=e.context||this;w.apply(n,[t,i,h])}}var x=t("input[type=file]:enabled",this).filter(function(){return""!==t(this).val()}),k=x.length>0,C="multipart/form-data",S=h.attr("enctype")==C||h.attr("encoding")==C,T=s.fileapi&&s.formdata;n("fileAPI :"+T);var D,E=(k||S)&&!T;e.iframe!==!1&&(e.iframe||E)?e.closeKeepAlive?t.get(e.closeKeepAlive,function(){D=r(g)}):D=r(g):D=(k||S)&&T?o(g):t.ajax(e),h.removeData("jqxhr").data("jqxhr",D);for(var $=0;$<m.length;$++)m[$]=null;return this.trigger("form-submit-notify",[this,e]),this},t.fn.ajaxForm=function(s){if(s=s||{},s.delegation=s.delegation&&t.isFunction(t.fn.on),!s.delegation&&0===this.length){var a={s:this.selector,c:this.context};return!t.isReady&&a.s?(n("DOM not ready, queuing ajaxForm"),t(function(){t(a.s,a.c).ajaxForm(s)}),this):(n("terminating; zero elements found by selector"+(t.isReady?"":" (DOM not ready)")),this)}return s.delegation?(t(document).off("submit.form-plugin",this.selector,e).off("click.form-plugin",this.selector,i).on("submit.form-plugin",this.selector,s,e).on("click.form-plugin",this.selector,s,i),this):this.ajaxFormUnbind().bind("submit.form-plugin",s,e).bind("click.form-plugin",s,i)},t.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},t.fn.formToArray=function(e,i){var n=[];if(0===this.length)return n;var a,o=this[0],r=this.attr("id"),l=e?o.getElementsByTagName("*"):o.elements;if(l&&!/MSIE [678]/.test(navigator.userAgent)&&(l=t(l).get()),r&&(a=t(':input[form="'+r+'"]').get(),a.length&&(l=(l||[]).concat(a))),!l||!l.length)return n;var c,u,h,d,f,p,m;for(c=0,p=l.length;p>c;c++)if(f=l[c],h=f.name,h&&!f.disabled)if(e&&o.clk&&"image"==f.type)o.clk==f&&(n.push({name:h,value:t(f).val(),type:f.type}),n.push({name:h+".x",value:o.clk_x},{name:h+".y",value:o.clk_y}));else if(d=t.fieldValue(f,!0),d&&d.constructor==Array)for(i&&i.push(f),u=0,m=d.length;m>u;u++)n.push({name:h,value:d[u]});else if(s.fileapi&&"file"==f.type){i&&i.push(f);var g=f.files;if(g.length)for(u=0;u<g.length;u++)n.push({name:h,value:g[u],type:f.type});else n.push({name:h,value:"",type:f.type})}else null!==d&&"undefined"!=typeof d&&(i&&i.push(f),n.push({name:h,value:d,type:f.type,required:f.required}));if(!e&&o.clk){var v=t(o.clk),b=v[0];h=b.name,h&&!b.disabled&&"image"==b.type&&(n.push({name:h,value:v.val()}),n.push({name:h+".x",value:o.clk_x},{name:h+".y",value:o.clk_y}))}return n},t.fn.formSerialize=function(e){return t.param(this.formToArray(e))},t.fn.fieldSerialize=function(e){var i=[];return this.each(function(){var n=this.name;if(n){var s=t.fieldValue(this,e);if(s&&s.constructor==Array)for(var a=0,o=s.length;o>a;a++)i.push({name:n,value:s[a]});else null!==s&&"undefined"!=typeof s&&i.push({name:this.name,value:s})}}),t.param(i)},t.fn.fieldValue=function(e){for(var i=[],n=0,s=this.length;s>n;n++){var a=this[n],o=t.fieldValue(a,e);null===o||"undefined"==typeof o||o.constructor==Array&&!o.length||(o.constructor==Array?t.merge(i,o):i.push(o))}return i},t.fieldValue=function(e,i){var n=e.name,s=e.type,a=e.tagName.toLowerCase();if(void 0===i&&(i=!0),i&&(!n||e.disabled||"reset"==s||"button"==s||("checkbox"==s||"radio"==s)&&!e.checked||("submit"==s||"image"==s)&&e.form&&e.form.clk!=e||"select"==a&&-1==e.selectedIndex))return null;if("select"==a){var o=e.selectedIndex;if(0>o)return null;for(var r=[],l=e.options,c="select-one"==s,u=c?o+1:l.length,h=c?o:0;u>h;h++){var d=l[h];if(d.selected){var f=d.value;if(f||(f=d.attributes&&d.attributes.value&&!d.attributes.value.specified?d.text:d.value),c)return f;r.push(f)}}return r}return t(e).val()},t.fn.clearForm=function(e){return this.each(function(){t("input,select,textarea",this).clearFields(e)})},t.fn.clearFields=t.fn.clearInputs=function(e){var i=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var n=this.type,s=this.tagName.toLowerCase();i.test(n)||"textarea"==s?this.value="":"checkbox"==n||"radio"==n?this.checked=!1:"select"==s?this.selectedIndex=-1:"file"==n?/MSIE/.test(navigator.userAgent)?t(this).replaceWith(t(this).clone(!0)):t(this).val(""):e&&(e===!0&&/hidden/.test(n)||"string"==typeof e&&t(this).is(e))&&(this.value="")})},t.fn.resetForm=function(){return this.each(function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()})},t.fn.enable=function(t){return void 0===t&&(t=!0),this.each(function(){this.disabled=!t})},t.fn.selected=function(e){return void 0===e&&(e=!0),this.each(function(){var i=this.type;if("checkbox"==i||"radio"==i)this.checked=e;else if("option"==this.tagName.toLowerCase()){var n=t(this).parent("select");e&&n[0]&&"select-one"==n[0].type&&n.find("option").selected(!1),this.selected=e}})},t.fn.ajaxSubmit.debug=!1}),stat_objects={},stat_objects_list=[];var initiate_sectional_chart=function(t,e){initiate_chart(t,e),e.draw=sectional_chart_draw,e.draw_by_index=sectional_chart_draw_chart_by_index,e.pull_data_and_draw=sectional_chart_pull_data_and_draw,e.get_height=sectional_chart_get_height},sectional_chart_get_height=function(){var t=this.get_width()-this.left_margin-this.right_margin,e=this.datasets.length,i=(t-this.circle_distance*(e-1))/e/2,n=this.top_margin+this.bottom_margin+2*i+20;return n},sectional_chart_draw=function(){this.clear_canvas();for(var t=this.datasets.length,e=(this.canvas.getContext("2d"),0);t>e;e++)this.datasets[e].retreived_data&&this.draw_by_index(e)},sectional_chart_draw_chart_by_index=function(t){var e=this.canvas.getContext("2d"),i=this.left_margin,n=this.top_margin,s=this.get_width()-this.left_margin-this.right_margin,a=(this.get_height()-this.top_margin-this.bottom_margin,this.datasets.length),o=(s-this.circle_distance*(a-1))/a/2,r=i+o+2*o*t+this.circle_distance*t,l=n+o,c=this.datasets[t].retreived_data.satisfied,u=this.datasets[t].retreived_data.unsatisfied,h=c/(c+u);c+u!=0?(e.beginPath(r,l),e.moveTo(r,l),e.arc(r,l,o,-Math.PI/2,2*Math.PI*h-Math.PI/2,!1),e.moveTo(r,l),e.fillStyle="#d2c5af",e.fill(),e.closePath(),1!=h&&(e.beginPath(),e.moveTo(r+Math.cos(2*Math.PI*h-Math.PI/2)*o,l+Math.sin(2*Math.PI*h-Math.PI/2)*o),e.lineTo(r,l),e.lineTo(r,l-o),e.strokeStyle="#FFF",e.lineWidth=1,e.stroke(),e.closePath()),e.beginPath(),e.arc(r,l,o,0,2*Math.PI,!1),e.strokeStyle="#FFF",e.lineWidth=1,e.stroke(),e.closePath(),e.beginPath()):(e.font="bold 14px Open Sans",e.textAlign="center",e.fillStyle="#ffffff",e.fillText("No ratings",r,l));var d=20,f=this.get_height()-d;e.font="14px Open Sans",e.textAlign="center",e.fillStyle="#ffffff",e.fillText(this.datasets[t].name,r,f);var p=e.measureText(c+"-"+u).width,m=r-p/2,g=f+16;e.font="12px Open Sans",e.textAlign="left",e.fillStyle="#d2c5af",e.fillText(c+" ",m,g),m+=e.measureText(c+" ").width,e.font="12px Open Sans",e.textAlign="left",e.fillStyle="#ffffff",e.fillText("- ",m,g),m+=e.measureText("- ").width,e.font="12px Open Sans",e.textAlign="left",e.fillStyle="#a5b0af",e.fillText(u,m,g)},sectional_chart_pull_data_and_draw=function(){this.current_request_id+=1;for(var t=0;t<this.datasets.length;t++){var e=this,i=this.datasets[t],n=this.current_request_id;pull_data(i.pull_data_url,i,t,function(t,s,a,o){i=e.datasets[o],i.retreived_data=t,e.current_request_id==n&&e.draw_by_index(o)})}},initiate_line_chart=function(t,e){e.draw_background=line_chart_draw_background,e.pull_data_and_draw=line_chart_pull_data_and_draw,e.draw=line_chart_draw,e.change_data_range=line_chart_change_data_range,e.go_back=line_chart_go_back,e.go_forward=line_chart_go_forward,e.get_days_to_display=line_chart_get_number_of_days,initiate_chart(t,e)},line_chart_draw_background=function(){for(var t=this.canvas.getContext("2d"),e=this.left_margin,i=this.top_margin,n=this.get_width()-this.left_margin-this.right_margin,s=this.get_height()-this.top_margin-this.bottom_margin,a=new Date(this.start_date),o=0,r=e,l=this.get_days_to_display(),c=0;l>c;c++){if(0!=a.getDay()&&1!=a.getDay()?t.setLineDash([1]):t.setLineDash([0]),t.strokeStyle="#a5b0af",t.lineWidth=1,t.beginPath(),t.moveTo(r,i),t.lineTo(r,i+s),t.stroke(),o%2==0){{n/this.get_days_to_display()*2}t.font="12px Open Sans Light",t.textAlign="center",t.fillStyle="#ffffff";var u=a.getDate().toString(),h=a.getMonth().toString();1==u.length&&(u="0"+u),1==h.length&&(h="0"+h),t.fillText(u+"/"+h,r,i+s+this.bottom_margin/2)}a=new Date(a.getFullYear(),a.getMonth(),a.getDate()+1,a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()),o+=1,r+=n/(this.get_days_to_display()-1)}for(var d=i,f=16,c=this.y_axis.length-1;c>=0;c-=1)t.font="bold 14px Open Sans",t.textAlign="center",t.fillStyle="#ffffff",t.fillText(this.y_axis[c].toString(),this.left_margin/3,d+12),d+=(s-f)/(this.y_axis.length-1)},line_chart_draw_data=function(t){var e=this.datasets[t],i=this.canvas.getContext("2d");i.setLineDash([0]);for(var n=this.left_margin,s=this.top_margin,a=this.get_width()-this.left_margin-this.right_margin,o=this.get_height()-this.top_margin-this.bottom_margin,r=-1,l=-1,c=n,u=-1,h=0;h<e.retreived_data.length;h++)l=u,u=o-(e.retreived_data[h]-this.min_value)/(this.max_value-this.min_value)*o+s,-1==e.retreived_data[h]&&(l=-1,u=-1),-1!=l&&(i.strokeStyle=e.color,i.lineWidth=1,i.beginPath(),i.moveTo(r,l),i.lineTo(c,u),i.stroke()),r=c,c+=a/(e.retreived_data.length-1)},line_chart_draw=function(){this.draw_background();for(var t=0;t<this.datasets.length;t++)this.datasets[t].retreived_data&&line_chart_draw_data.call(this,t)},line_chart_pull_data_and_draw=function(){this.draw_background(),this.current_request_id+=1;for(var t=0;t<this.datasets.length;t++){var e=this,i=this.datasets[t],n=this.current_request_id;pull_data(i.pull_data_url,{source:i.source,start_date:this.start_date,days:this.get_days_to_display().toString()},t,function(t,s,a,o){i=e.datasets[o],i.retreived_data=t,e.current_request_id==n&&line_chart_draw_data.call(e,e.datasets.indexOf(i))})}},line_chart_change_data_range=function(t,e){this.start_date=t,this.days_to_display=e,this.clear_canvas(),line_chart_draw_background.call(this),this.pull_data_and_draw()},line_chart_go_back=function(t){old=new Date(this.start_date),start=new Date(old.getFullYear(),old.getMonth(),old.getDate()-t,old.getHours(),old.getMinutes(),old.getSeconds(),old.getMilliseconds()),this.change_data_range(start.toISOString().substring(0,10),this.get_days_to_display())},line_chart_go_forward=function(t){old=new Date(this.start_date),start=new Date(old.getFullYear(),old.getMonth(),old.getDate()+t,old.getHours(),old.getMinutes(),old.getSeconds(),old.getMilliseconds()),this.change_data_range(start.toISOString().substring(0,10),this.get_days_to_display())},line_chart_get_number_of_days=function(){var t=this.days_to_display;return window.innerWidth<=1e3&&(t=15),window.innerWidth<=500&&(t=10),t},pull_data=function(t,e,i,n){$.ajax({dataType:"json",url:t,data:e,success:function(t,e,s){n(t,e,s,i)}})},stat_get_width=function(){var t=-1;if("PERCENTAGE_X"==this.scale_type||"PERCENTAGE_XY"==this.scale_type){var e=this.canvas.parentNode;t=$(e).width()*(this.canvas_width/100)}else t=this.canvas_width;return t},stat_get_height=function(){var t=-1;if("PERCENTAGE_Y"==this.scale_type||"PERCENTAGE_XY"==this.scale_type){var e=this.canvas.parentNode;t=$(e).height()*(this.canvas_height/100)}else t=this.canvas_height;return t},stat_clear_canvas=function(){var t=this.canvas.getContext("2d");t.clearRect(0,0,this.canvas.width,this.canvas.height)},stat_refresh_size=function(){this.canvas.width=this.get_width(),this.canvas.height=this.get_height()},initiate_chart=function(t,e){stat_objects[t]=e,stat_objects_list.push(e),e.stat_id=t,e.canvas=document.getElementById(t),e.get_width=stat_get_width,e.get_height=stat_get_height,e.refresh_size=stat_refresh_size,e.clear_canvas=stat_clear_canvas,e.canvas.getContext||(e.canvas.innerHTML="This browser does not support HTML5 canvases."),e.current_request_id=-1};$(window).bind("resize",function(){for(var t=0;t<stat_objects_list.length;t++)stat=stat_objects_list[t],stat.refresh_size(),stat.draw()}),$(function(){for(var t=0;t<stat_objects_list.length;t++)stat=stat_objects_list[t],stat.refresh_size(),stat.pull_data_and_draw()}),managing_reocurring_offers=!1;var manage_offers_recurring=function(){btn=document.getElementById("manage-offers-recurring-btn"),managing_reocurring_offers?(btn.textContent="Manage offers",managing_reocurring_offers=!1,$(".recurring-offers .edit-btn").css("display","none"),$(".recurring-offers .delete-btn").css("display","none"),$(".recurring-offers .weekday").css("display","table-cell")):(btn.textContent="Stop managing offers",managing_reocurring_offers=!0,$(".recurring-offers .edit-btn").css("display","table-cell"),$(".recurring-offers .delete-btn").css("display","table-cell"),$(".recurring-offers .weekday").css("display","none"))};managing_offers_one_time=!1;var manage_offers_one_time=function(){btn=document.getElementById("manage-offers-one-time-btn"),managing_offers_one_time?(btn.textContent="Manage offers",managing_offers_one_time=!1,$(".one-time-offers .edit-btn").css("display","none"),$(".one-time-offers .delete-btn").css("display","none")):(btn.textContent="Stop managing offers",managing_offers_one_time=!0,$(".one-time-offers .edit-btn").css("display","table-cell"),$(".one-time-offers .delete-btn").css("display","table-cell"))},previous_history=[],request_page=function(t){$.get(paths[t],function(){current_page=t,init(),window.history.pushState({path:paths[t]},"",paths[t]),previous_history.push(t)}).fail(function(){alert("Error")})},enable_sidebar_ajax=function(){$(".sidebar a").removeAttr("href")},disable_sidebar_ajax=function(){$(".sidebar a").removeAttr("onclick")},init=function(){},ajax=!1;$(function(){ajax?enable_sidebar_ajax():disable_sidebar_ajax(),init()});