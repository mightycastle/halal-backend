/*
Copyright (c) 2003-2012, CKSource - Frederico Knabben. All rights reserved.
For licensing, see LICENSE.html or http://ckeditor.com/license
*/
!function(){function e(e){for(var i,n=e.getElementsByTag("*"),a=n.count(),o=0;a>o;o++)i=n.getItem(o),function(e){for(var i=0;i<t.length;i++)(function(t){var i=e.getAttribute("on"+t);e.hasAttribute("on"+t)&&(e.removeAttribute("on"+t),e.on(t,function(t){var n=/(return\s*)?CKEDITOR\.tools\.callFunction\(([^)]+)\)/.exec(i),a=n&&n[1],o=n&&n[2].split(","),r=/return false;/.test(i);if(o){for(var s,l=o.length,d=0;l>d;d++){o[d]=s=CKEDITOR.tools.trim(o[d]);var c=s.match(/^(["'])([^"']*?)\1$/);if(c)o[d]=c[2];else if(s.match(/\d+/))o[d]=parseInt(s,10);else switch(s){case"this":o[d]=e.$;break;case"event":o[d]=t.data.$;break;case"null":o[d]=null}}var u=CKEDITOR.tools.callFunction.apply(window,o);a&&u===!1&&(r=1)}r&&t.data.preventDefault()}))})(t[i])}(i)}var t=["click","keydown","mousedown","keypress","mouseover","mouseout"];CKEDITOR.plugins.add("adobeair",{init:function(t){CKEDITOR.env.air&&(t.addCss("body { padding: 8px }"),t.on("uiReady",function(){if(e(t.container),t.sharedSpaces)for(var i in t.sharedSpaces)e(t.sharedSpaces[i]);t.on("elementsPathUpdate",function(t){e(t.data.space)})}),t.on("contentDom",function(){t.document.on("click",function(e){e.data.preventDefault(!0)})}))}}),CKEDITOR.ui.on("ready",function(t){var i=t.data;if(i._.panel){var n,a=i._.panel._.panel;!function(){return a.isLoaded?(n=a._.holder,e(n),void 0):(setTimeout(arguments.callee,30),void 0)}()}else i instanceof CKEDITOR.dialog&&e(i._.element)})}(),CKEDITOR.dom.document.prototype.write=CKEDITOR.tools.override(CKEDITOR.dom.document.prototype.write,function(e){function t(e,t,i,n){var a=e.append(t),o=CKEDITOR.htmlParser.fragment.fromHtml(i).children[0].attributes;o&&a.setAttributes(o),n&&a.append(e.getDocument().createText(n))}return function(i){if(this.getBody()){var n=this,a=this.getHead();i=i.replace(/(<style[^>]*>)([\s\S]*?)<\/style>/gi,function(e,i,n){return t(a,"style",i,n),""}),i=i.replace(/<base\b[^>]*\/>/i,function(e){return t(a,"base",e),""}),i=i.replace(/<title>([\s\S]*)<\/title>/i,function(e,t){return n.$.title=t,""}),i=i.replace(/<head>([\s\S]*)<\/head>/i,function(e){var t=new CKEDITOR.dom.element("div",n);return t.setHtml(e),t.moveChildren(a),""}),i.replace(/(<body[^>]*>)([\s\S]*)(?=$|<\/body>)/i,function(e,t,i){n.getBody().setHtml(i);var a=CKEDITOR.htmlParser.fragment.fromHtml(t).children[0].attributes;a&&n.getBody().setAttributes(a)})}else e.apply(this,arguments)}});